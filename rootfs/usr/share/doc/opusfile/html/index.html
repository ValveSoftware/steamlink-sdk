<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>opusfile: Main Page</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="opus_logo.svg"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">opusfile
   &#160;<span id="projectnumber">0.12</span>
   </div>
   <div id="projectbrief">Stand-alone decoder library for .opus files.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">opusfile Documentation</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="Introduction"></a>
Introduction</h1>
<p>This is the documentation for the <code>libopusfile</code> C API.</p>
<p>The <code>libopusfile</code> package provides a convenient high-level API for decoding and basic manipulation of all Ogg Opus audio streams. <code>libopusfile</code> is implemented as a layer on top of Xiph.Org's reference <code><a href="https://www.xiph.org/ogg/doc/libogg/reference.html">libogg</a></code> and <code><a href="https://opus-codec.org/docs/opus_api-1.3.1/">libopus</a></code> libraries.</p>
<p><code>libopusfile</code> provides several sets of built-in routines for file/stream access, and may also use custom stream I/O routines provided by the embedded environment. There are built-in I/O routines provided for ANSI-compliant <code>stdio</code> (<code>FILE *</code>), memory buffers, and URLs (including &lt;file:&gt; URLs, plus optionally &lt;http:&gt; and &lt;https:&gt; URLs).</p>
<h1><a class="anchor" id="Organization"></a>
Organization</h1>
<p>The main API is divided into several sections:</p><ul>
<li><a class="el" href="group__stream__open__close.html">Opening and Closing</a></li>
<li><a class="el" href="group__stream__info.html">Stream Information</a></li>
<li><a class="el" href="group__stream__decoding.html">Decoding</a></li>
<li><a class="el" href="group__stream__seeking.html">Seeking</a></li>
</ul>
<p>Several additional sections are not tied to the main API.</p><ul>
<li><a class="el" href="group__stream__callbacks.html">Abstract Stream Reading Interface</a></li>
<li><a class="el" href="group__header__info.html">Header Information</a></li>
<li><a class="el" href="group__error__codes.html">Error Codes</a></li>
</ul>
<h1><a class="anchor" id="Overview"></a>
Overview</h1>
<p>The <code>libopusfile</code> API always decodes files to 48&#160;kHz. The original sample rate is not preserved by the lossy compression, though it is stored in the header to allow you to resample to it after decoding (the <code>libopusfile</code> API does not currently provide a resampler, but the <a href="https://www.speex.org/docs/manual/speex-manual/node7.html#SECTION00760000000000000000">the Speex resampler</a> is a good choice if you need one). In general, if you are playing back the audio, you should leave it at 48&#160;kHz, provided your audio hardware supports it. When decoding to a file, it may be worth resampling back to the original sample rate, so as not to surprise users who might not expect the sample rate to change after encoding to Opus and decoding.</p>
<p>Opus files can contain anywhere from 1 to 255 channels of audio. The channel mappings for up to 8 channels are the same as the <a href="https://www.xiph.org/vorbis/doc/Vorbis_I_spec.html#x1-810004.3.9">Vorbis mappings</a>. A special stereo API can convert everything to 2 channels, making it simple to support multichannel files in an application which only has stereo output. Although the <code>libopusfile</code> ABI provides support for the theoretical maximum number of channels, the current implementation does not support files with more than 8 channels, as they do not have well-defined channel mappings.</p>
<p>Like all Ogg files, Opus files may be "chained". That is, multiple Opus files may be combined into a single, longer file just by concatenating the original files. This is commonly done in internet radio streaming, as it allows the title and artist to be updated each time the song changes, since each link in the chain includes its own set of metadata.</p>
<p><code>libopusfile</code> fully supports chained files. It will decode the first Opus stream found in each link of a chained file (ignoring any other streams that might be concurrently multiplexed with it, such as a video stream).</p>
<p>The channel count can also change between links. If your application is not prepared to deal with this, it can use the stereo API to ensure the audio from all links will always get decoded into a common format. Since <code>libopusfile</code> always decodes to 48&#160;kHz, you do not have to worry about the sample rate changing between links (as was possible with Vorbis). This makes application support for chained files with <code>libopusfile</code> very easy. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
