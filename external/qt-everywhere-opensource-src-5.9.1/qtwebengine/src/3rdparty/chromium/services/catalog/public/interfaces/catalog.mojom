// Copyright 2016 The Chromium Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

module catalog.mojom;

import "mojo/common/common_custom_types.mojom";

struct Entry {
  string name;
  string display_name;
};

interface Catalog {
  // Returns the catalog entries for the specified mojo names.
  // If |names| is null, all available entries are returned.
  [Sync]
  GetEntries(array<string>? names) => (array<Entry> entries);

  // Returns the entry(ies) for applications that export to the caller the
  // specified capability.
  GetEntriesProvidingCapability(string capability) => (array<Entry> entries);

  // Returns the entry(ies) for applications that can consume content of the
  // specified MIME type.
  GetEntriesConsumingMIMEType(string mime_type) => (array<Entry> entries);

  // Returns the entry(ies) for applications that can handle links with the
  // specified scheme.
  GetEntriesSupportingScheme(string protocol_scheme) => (array<Entry> entries);
};

// A control interface which may be exposed to privileged services.
interface CatalogControl {
  // Overrides the manifest path for a specific service named |name|.
  [Sync]
  OverrideManifestPath(string name, mojo.common.mojom.FilePath path) => ();
};
