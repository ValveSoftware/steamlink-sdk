# Copyright 2014 The Chromium Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/config/features.gni")
import("//build/config/ui.gni")
import("//testing/test.gni")
import("//ui/base/ui_features.gni")

assert(use_aura)
assert(enable_hidpi)

component("ash") {
  sources = [
    "accelerators/accelerator_commands_aura.cc",
    "accelerators/accelerator_commands_aura.h",
    "accelerators/accelerator_controller_delegate_aura.cc",
    "accelerators/accelerator_controller_delegate_aura.h",
    "accelerators/accelerator_delegate.cc",
    "accelerators/accelerator_delegate.h",
    "accelerators/key_hold_detector.cc",
    "accelerators/key_hold_detector.h",
    "accelerators/magnifier_key_scroller.cc",
    "accelerators/magnifier_key_scroller.h",
    "accelerators/spoken_feedback_toggler.cc",
    "accelerators/spoken_feedback_toggler.h",
    "app_list/app_list_presenter_delegate.cc",
    "app_list/app_list_presenter_delegate.h",
    "app_list/app_list_presenter_delegate_factory.cc",
    "app_list/app_list_presenter_delegate_factory.h",
    "ash_export.h",
    "ash_touch_exploration_manager_chromeos.cc",
    "ash_touch_exploration_manager_chromeos.h",
    "aura/aura_layout_manager_adapter.cc",
    "aura/aura_layout_manager_adapter.h",
    "aura/key_event_watcher_aura.cc",
    "aura/key_event_watcher_aura.h",
    "aura/pointer_watcher_adapter.cc",
    "aura/pointer_watcher_adapter.h",
    "aura/wm_lookup_aura.cc",
    "aura/wm_lookup_aura.h",
    "aura/wm_root_window_controller_aura.cc",
    "aura/wm_root_window_controller_aura.h",
    "aura/wm_shelf_aura.cc",
    "aura/wm_shelf_aura.h",
    "aura/wm_shell_aura.cc",
    "aura/wm_shell_aura.h",
    "aura/wm_window_aura.cc",
    "aura/wm_window_aura.h",
    "autoclick/autoclick_controller.cc",
    "autoclick/autoclick_controller.h",
    "cancel_mode.cc",
    "cancel_mode.h",
    "common/accelerators/accelerator_commands.cc",
    "common/accelerators/accelerator_commands.h",
    "common/accelerators/accelerator_controller.cc",
    "common/accelerators/accelerator_controller.h",
    "common/accelerators/accelerator_controller_delegate.h",
    "common/accelerators/accelerator_router.cc",
    "common/accelerators/accelerator_router.h",
    "common/accelerators/accelerator_table.cc",
    "common/accelerators/accelerator_table.h",
    "common/accelerators/ash_focus_manager_factory.cc",
    "common/accelerators/ash_focus_manager_factory.h",
    "common/accelerators/debug_commands.cc",
    "common/accelerators/debug_commands.h",
    "common/accelerators/exit_warning_handler.cc",
    "common/accelerators/exit_warning_handler.h",
    "common/accessibility_delegate.h",
    "common/accessibility_types.h",
    "common/ash_constants.cc",
    "common/ash_constants.h",
    "common/ash_layout_constants.cc",
    "common/ash_layout_constants.h",
    "common/ash_switches.cc",
    "common/ash_switches.h",
    "common/cast_config_delegate.cc",
    "common/cast_config_delegate.h",
    "common/default_accessibility_delegate.cc",
    "common/default_accessibility_delegate.h",
    "common/devtools/ash_devtools_css_agent.cc",
    "common/devtools/ash_devtools_css_agent.h",
    "common/devtools/ash_devtools_dom_agent.cc",
    "common/devtools/ash_devtools_dom_agent.h",
    "common/drag_drop/drag_image_view.cc",
    "common/drag_drop/drag_image_view.h",
    "common/focus_cycler.cc",
    "common/focus_cycler.h",
    "common/frame/caption_buttons/caption_button_types.h",
    "common/frame/caption_buttons/frame_caption_button.cc",
    "common/frame/caption_buttons/frame_caption_button.h",
    "common/frame/caption_buttons/frame_caption_button_container_view.cc",
    "common/frame/caption_buttons/frame_caption_button_container_view.h",
    "common/frame/caption_buttons/frame_size_button.cc",
    "common/frame/caption_buttons/frame_size_button.h",
    "common/frame/caption_buttons/frame_size_button_delegate.h",
    "common/frame/custom_frame_view_ash.cc",
    "common/frame/custom_frame_view_ash.h",
    "common/frame/default_header_painter.cc",
    "common/frame/default_header_painter.h",
    "common/frame/frame_border_hit_test.cc",
    "common/frame/frame_border_hit_test.h",
    "common/frame/header_painter.h",
    "common/frame/header_painter_util.cc",
    "common/frame/header_painter_util.h",
    "common/frame/header_view.cc",
    "common/frame/header_view.h",
    "common/gpu_support.h",
    "common/gpu_support_stub.cc",
    "common/gpu_support_stub.h",
    "common/key_event_watcher.cc",
    "common/key_event_watcher.h",
    "common/keyboard/keyboard_ui.cc",
    "common/keyboard/keyboard_ui.h",
    "common/keyboard/keyboard_ui_observer.h",
    "common/login_status.h",
    "common/material_design/material_design_controller.cc",
    "common/material_design/material_design_controller.h",
    "common/metrics/gesture_action_type.h",
    "common/metrics/pointer_metrics_recorder.cc",
    "common/metrics/pointer_metrics_recorder.h",
    "common/metrics/user_metrics_action.h",
    "common/mojo_interface_factory.cc",
    "common/mojo_interface_factory.h",
    "common/multi_profile_uma.cc",
    "common/multi_profile_uma.h",
    "common/new_window_client_proxy.cc",
    "common/new_window_client_proxy.h",
    "common/palette_delegate.h",
    "common/popup_message.cc",
    "common/popup_message.h",
    "common/scoped_root_window_for_new_windows.cc",
    "common/scoped_root_window_for_new_windows.h",
    "common/session/session_state_delegate.cc",
    "common/session/session_state_delegate.h",
    "common/session/session_state_observer.cc",
    "common/session/session_state_observer.h",
    "common/session/session_types.h",
    "common/shelf/app_list_button.cc",
    "common/shelf/app_list_button.h",
    "common/shelf/app_list_shelf_item_delegate.cc",
    "common/shelf/app_list_shelf_item_delegate.h",
    "common/shelf/ink_drop_button_listener.h",
    "common/shelf/overflow_bubble.cc",
    "common/shelf/overflow_bubble.h",
    "common/shelf/overflow_bubble_view.cc",
    "common/shelf/overflow_bubble_view.h",
    "common/shelf/overflow_button.cc",
    "common/shelf/overflow_button.h",
    "common/shelf/shelf_alignment_menu.cc",
    "common/shelf/shelf_alignment_menu.h",
    "common/shelf/shelf_background_animator.cc",
    "common/shelf/shelf_background_animator.h",
    "common/shelf/shelf_background_animator_observer.h",
    "common/shelf/shelf_button.cc",
    "common/shelf/shelf_button.h",
    "common/shelf/shelf_button_pressed_metric_tracker.cc",
    "common/shelf/shelf_button_pressed_metric_tracker.h",
    "common/shelf/shelf_constants.cc",
    "common/shelf/shelf_constants.h",
    "common/shelf/shelf_controller.cc",
    "common/shelf/shelf_controller.h",
    "common/shelf/shelf_delegate.h",
    "common/shelf/shelf_item_delegate.h",
    "common/shelf/shelf_item_types.cc",
    "common/shelf/shelf_item_types.h",
    "common/shelf/shelf_layout_manager.cc",
    "common/shelf/shelf_layout_manager.h",
    "common/shelf/shelf_layout_manager_observer.h",
    "common/shelf/shelf_locking_manager.cc",
    "common/shelf/shelf_locking_manager.h",
    "common/shelf/shelf_menu_model.h",
    "common/shelf/shelf_model.cc",
    "common/shelf/shelf_model.h",
    "common/shelf/shelf_model_observer.h",
    "common/shelf/shelf_tooltip_manager.cc",
    "common/shelf/shelf_tooltip_manager.h",
    "common/shelf/shelf_view.cc",
    "common/shelf/shelf_view.h",
    "common/shelf/shelf_widget.cc",
    "common/shelf/shelf_widget.h",
    "common/shelf/shelf_window_watcher.cc",
    "common/shelf/shelf_window_watcher.h",
    "common/shelf/shelf_window_watcher_item_delegate.cc",
    "common/shelf/shelf_window_watcher_item_delegate.h",
    "common/shelf/wm_shelf.cc",
    "common/shelf/wm_shelf.h",
    "common/shelf/wm_shelf_observer.h",
    "common/shelf/wm_shelf_util.cc",
    "common/shelf/wm_shelf_util.h",
    "common/shell_delegate.h",
    "common/shutdown_controller.cc",
    "common/shutdown_controller.h",
    "common/system/accessibility_observer.h",
    "common/system/brightness_control_delegate.h",
    "common/system/chromeos/audio/audio_detailed_view.cc",
    "common/system/chromeos/audio/audio_detailed_view.h",
    "common/system/chromeos/audio/tray_audio.cc",
    "common/system/chromeos/audio/tray_audio.h",
    "common/system/chromeos/audio/tray_audio_delegate.h",
    "common/system/chromeos/audio/tray_audio_delegate_chromeos.cc",
    "common/system/chromeos/audio/tray_audio_delegate_chromeos.h",
    "common/system/chromeos/audio/volume_view.cc",
    "common/system/chromeos/audio/volume_view.h",
    "common/system/chromeos/bluetooth/bluetooth_notification_controller.cc",
    "common/system/chromeos/bluetooth/bluetooth_notification_controller.h",
    "common/system/chromeos/bluetooth/bluetooth_observer.h",
    "common/system/chromeos/bluetooth/tray_bluetooth.cc",
    "common/system/chromeos/bluetooth/tray_bluetooth.h",
    "common/system/chromeos/brightness/brightness_controller_chromeos.cc",
    "common/system/chromeos/brightness/brightness_controller_chromeos.h",
    "common/system/chromeos/brightness/tray_brightness.cc",
    "common/system/chromeos/brightness/tray_brightness.h",
    "common/system/chromeos/cast/tray_cast.cc",
    "common/system/chromeos/cast/tray_cast.h",
    "common/system/chromeos/devicetype_utils.cc",
    "common/system/chromeos/devicetype_utils.h",
    "common/system/chromeos/enterprise/enterprise_domain_observer.h",
    "common/system/chromeos/enterprise/tray_enterprise.cc",
    "common/system/chromeos/enterprise/tray_enterprise.h",
    "common/system/chromeos/ime_menu/ime_list_view.cc",
    "common/system/chromeos/ime_menu/ime_list_view.h",
    "common/system/chromeos/ime_menu/ime_menu_tray.cc",
    "common/system/chromeos/ime_menu/ime_menu_tray.h",
    "common/system/chromeos/keyboard_brightness_controller.cc",
    "common/system/chromeos/keyboard_brightness_controller.h",
    "common/system/chromeos/media_security/media_capture_observer.h",
    "common/system/chromeos/media_security/multi_profile_media_tray_item.cc",
    "common/system/chromeos/media_security/multi_profile_media_tray_item.h",
    "common/system/chromeos/network/network_detailed_view.h",
    "common/system/chromeos/network/network_icon.cc",
    "common/system/chromeos/network/network_icon.h",
    "common/system/chromeos/network/network_icon_animation.cc",
    "common/system/chromeos/network/network_icon_animation.h",
    "common/system/chromeos/network/network_icon_animation_observer.h",
    "common/system/chromeos/network/network_info.cc",
    "common/system/chromeos/network/network_info.h",
    "common/system/chromeos/network/network_list.cc",
    "common/system/chromeos/network/network_list.h",
    "common/system/chromeos/network/network_list_delegate.h",
    "common/system/chromeos/network/network_list_md.cc",
    "common/system/chromeos/network/network_list_md.h",
    "common/system/chromeos/network/network_list_view_base.cc",
    "common/system/chromeos/network/network_list_view_base.h",
    "common/system/chromeos/network/network_observer.h",
    "common/system/chromeos/network/network_portal_detector_observer.h",
    "common/system/chromeos/network/network_state_list_detailed_view.cc",
    "common/system/chromeos/network/network_state_list_detailed_view.h",
    "common/system/chromeos/network/tray_network.cc",
    "common/system/chromeos/network/tray_network.h",
    "common/system/chromeos/network/tray_network_state_observer.cc",
    "common/system/chromeos/network/tray_network_state_observer.h",
    "common/system/chromeos/network/tray_sms.cc",
    "common/system/chromeos/network/tray_sms.h",
    "common/system/chromeos/network/tray_vpn.cc",
    "common/system/chromeos/network/tray_vpn.h",
    "common/system/chromeos/network/vpn_delegate.cc",
    "common/system/chromeos/network/vpn_delegate.h",
    "common/system/chromeos/network/vpn_list_view.cc",
    "common/system/chromeos/network/vpn_list_view.h",
    "common/system/chromeos/palette/common_palette_tool.cc",
    "common/system/chromeos/palette/common_palette_tool.h",
    "common/system/chromeos/palette/palette_ids.cc",
    "common/system/chromeos/palette/palette_ids.h",
    "common/system/chromeos/palette/palette_tool.cc",
    "common/system/chromeos/palette/palette_tool.h",
    "common/system/chromeos/palette/palette_tool_manager.cc",
    "common/system/chromeos/palette/palette_tool_manager.h",
    "common/system/chromeos/palette/palette_tray.cc",
    "common/system/chromeos/palette/palette_tray.h",
    "common/system/chromeos/palette/palette_utils.cc",
    "common/system/chromeos/palette/palette_utils.h",
    "common/system/chromeos/palette/tools/capture_region_mode.cc",
    "common/system/chromeos/palette/tools/capture_region_mode.h",
    "common/system/chromeos/palette/tools/capture_screen_action.cc",
    "common/system/chromeos/palette/tools/capture_screen_action.h",
    "common/system/chromeos/palette/tools/create_note_action.cc",
    "common/system/chromeos/palette/tools/create_note_action.h",
    "common/system/chromeos/palette/tools/laser_pointer_mode.cc",
    "common/system/chromeos/palette/tools/laser_pointer_mode.h",
    "common/system/chromeos/palette/tools/magnifier_mode.cc",
    "common/system/chromeos/palette/tools/magnifier_mode.h",
    "common/system/chromeos/power/battery_notification.cc",
    "common/system/chromeos/power/battery_notification.h",
    "common/system/chromeos/power/dual_role_notification.cc",
    "common/system/chromeos/power/dual_role_notification.h",
    "common/system/chromeos/power/power_status.cc",
    "common/system/chromeos/power/power_status.h",
    "common/system/chromeos/power/power_status_view.cc",
    "common/system/chromeos/power/power_status_view.h",
    "common/system/chromeos/power/tray_power.cc",
    "common/system/chromeos/power/tray_power.h",
    "common/system/chromeos/screen_security/screen_capture_observer.h",
    "common/system/chromeos/screen_security/screen_capture_tray_item.cc",
    "common/system/chromeos/screen_security/screen_capture_tray_item.h",
    "common/system/chromeos/screen_security/screen_share_observer.h",
    "common/system/chromeos/screen_security/screen_share_tray_item.cc",
    "common/system/chromeos/screen_security/screen_share_tray_item.h",
    "common/system/chromeos/screen_security/screen_tray_item.cc",
    "common/system/chromeos/screen_security/screen_tray_item.h",
    "common/system/chromeos/session/last_window_closed_observer.h",
    "common/system/chromeos/session/logout_button_observer.h",
    "common/system/chromeos/session/logout_button_tray.cc",
    "common/system/chromeos/session/logout_button_tray.h",
    "common/system/chromeos/session/logout_confirmation_controller.cc",
    "common/system/chromeos/session/logout_confirmation_controller.h",
    "common/system/chromeos/session/logout_confirmation_dialog.cc",
    "common/system/chromeos/session/logout_confirmation_dialog.h",
    "common/system/chromeos/session/session_length_limit_observer.h",
    "common/system/chromeos/session/tray_session_length_limit.cc",
    "common/system/chromeos/session/tray_session_length_limit.h",
    "common/system/chromeos/settings/tray_settings.cc",
    "common/system/chromeos/settings/tray_settings.h",
    "common/system/chromeos/supervised/custodian_info_tray_observer.h",
    "common/system/chromeos/supervised/tray_supervised_user.cc",
    "common/system/chromeos/supervised/tray_supervised_user.h",
    "common/system/chromeos/system_clock_observer.cc",
    "common/system/chromeos/system_clock_observer.h",
    "common/system/chromeos/tray_caps_lock.cc",
    "common/system/chromeos/tray_caps_lock.h",
    "common/system/chromeos/tray_tracing.cc",
    "common/system/chromeos/tray_tracing.h",
    "common/system/chromeos/virtual_keyboard/virtual_keyboard_observer.h",
    "common/system/chromeos/virtual_keyboard/virtual_keyboard_tray.cc",
    "common/system/chromeos/virtual_keyboard/virtual_keyboard_tray.h",
    "common/system/date/clock_observer.h",
    "common/system/date/date_default_view.cc",
    "common/system/date/date_default_view.h",
    "common/system/date/date_view.cc",
    "common/system/date/date_view.h",
    "common/system/date/system_info_default_view.cc",
    "common/system/date/system_info_default_view.h",
    "common/system/date/tray_date.cc",
    "common/system/date/tray_date.h",
    "common/system/date/tray_system_info.cc",
    "common/system/date/tray_system_info.h",
    "common/system/ime/ime_observer.h",
    "common/system/ime/tray_ime_chromeos.cc",
    "common/system/ime/tray_ime_chromeos.h",
    "common/system/keyboard_brightness_control_delegate.h",
    "common/system/locale/locale_notification_controller.cc",
    "common/system/locale/locale_notification_controller.h",
    "common/system/networking_config_delegate.cc",
    "common/system/networking_config_delegate.h",
    "common/system/overview/overview_button_tray.cc",
    "common/system/overview/overview_button_tray.h",
    "common/system/status_area_layout_manager.cc",
    "common/system/status_area_layout_manager.h",
    "common/system/status_area_widget.cc",
    "common/system/status_area_widget.h",
    "common/system/status_area_widget_delegate.cc",
    "common/system/status_area_widget_delegate.h",
    "common/system/system_notifier.cc",
    "common/system/system_notifier.h",
    "common/system/tiles/tiles_default_view.cc",
    "common/system/tiles/tiles_default_view.h",
    "common/system/tiles/tray_tiles.cc",
    "common/system/tiles/tray_tiles.h",
    "common/system/toast/toast_data.cc",
    "common/system/toast/toast_data.h",
    "common/system/toast/toast_manager.cc",
    "common/system/toast/toast_manager.h",
    "common/system/toast/toast_overlay.cc",
    "common/system/toast/toast_overlay.h",
    "common/system/tray/actionable_view.cc",
    "common/system/tray/actionable_view.h",
    "common/system/tray/default_system_tray_delegate.cc",
    "common/system/tray/default_system_tray_delegate.h",
    "common/system/tray/fixed_sized_image_view.cc",
    "common/system/tray/fixed_sized_image_view.h",
    "common/system/tray/fixed_sized_scroll_view.cc",
    "common/system/tray/fixed_sized_scroll_view.h",
    "common/system/tray/hover_highlight_view.cc",
    "common/system/tray/hover_highlight_view.h",
    "common/system/tray/ime_info.cc",
    "common/system/tray/ime_info.h",
    "common/system/tray/label_tray_view.cc",
    "common/system/tray/label_tray_view.h",
    "common/system/tray/size_range_layout.cc",
    "common/system/tray/size_range_layout.h",
    "common/system/tray/special_popup_row.cc",
    "common/system/tray/special_popup_row.h",
    "common/system/tray/system_menu_button.cc",
    "common/system/tray/system_menu_button.h",
    "common/system/tray/system_tray.cc",
    "common/system/tray/system_tray.h",
    "common/system/tray/system_tray_bubble.cc",
    "common/system/tray/system_tray_bubble.h",
    "common/system/tray/system_tray_controller.cc",
    "common/system/tray/system_tray_controller.h",
    "common/system/tray/system_tray_delegate.cc",
    "common/system/tray/system_tray_delegate.h",
    "common/system/tray/system_tray_item.cc",
    "common/system/tray/system_tray_item.h",
    "common/system/tray/system_tray_notifier.cc",
    "common/system/tray/system_tray_notifier.h",
    "common/system/tray/throbber_view.cc",
    "common/system/tray/throbber_view.h",
    "common/system/tray/tray_background_view.cc",
    "common/system/tray/tray_background_view.h",
    "common/system/tray/tray_bubble_wrapper.cc",
    "common/system/tray/tray_bubble_wrapper.h",
    "common/system/tray/tray_constants.cc",
    "common/system/tray/tray_constants.h",
    "common/system/tray/tray_details_view.cc",
    "common/system/tray/tray_details_view.h",
    "common/system/tray/tray_event_filter.cc",
    "common/system/tray/tray_event_filter.h",
    "common/system/tray/tray_image_item.cc",
    "common/system/tray/tray_image_item.h",
    "common/system/tray/tray_item_more.cc",
    "common/system/tray/tray_item_more.h",
    "common/system/tray/tray_item_view.cc",
    "common/system/tray/tray_item_view.h",
    "common/system/tray/tray_notification_view.cc",
    "common/system/tray/tray_notification_view.h",
    "common/system/tray/tray_popup_header_button.cc",
    "common/system/tray/tray_popup_header_button.h",
    "common/system/tray/tray_popup_ink_drop_style.h",
    "common/system/tray/tray_popup_item_container.cc",
    "common/system/tray/tray_popup_item_container.h",
    "common/system/tray/tray_popup_item_style.cc",
    "common/system/tray/tray_popup_item_style.h",
    "common/system/tray/tray_popup_label_button.cc",
    "common/system/tray/tray_popup_label_button.h",
    "common/system/tray/tray_popup_label_button_border.cc",
    "common/system/tray/tray_popup_label_button_border.h",
    "common/system/tray/tray_popup_utils.cc",
    "common/system/tray/tray_popup_utils.h",
    "common/system/tray/tray_utils.cc",
    "common/system/tray/tray_utils.h",
    "common/system/tray/tri_view.cc",
    "common/system/tray/tri_view.h",
    "common/system/tray/view_click_listener.h",
    "common/system/tray_accessibility.cc",
    "common/system/tray_accessibility.h",
    "common/system/update/tray_update.cc",
    "common/system/update/tray_update.h",
    "common/system/update/update_observer.h",
    "common/system/user/button_from_view.cc",
    "common/system/user/button_from_view.h",
    "common/system/user/login_status.cc",
    "common/system/user/login_status.h",
    "common/system/user/rounded_image_view.cc",
    "common/system/user/rounded_image_view.h",
    "common/system/user/tray_user.cc",
    "common/system/user/tray_user.h",
    "common/system/user/tray_user_separator.cc",
    "common/system/user/tray_user_separator.h",
    "common/system/user/user_card_view.cc",
    "common/system/user/user_card_view.h",
    "common/system/user/user_observer.h",
    "common/system/user/user_view.cc",
    "common/system/user/user_view.h",
    "common/system/web_notification/ash_popup_alignment_delegate.cc",
    "common/system/web_notification/ash_popup_alignment_delegate.h",
    "common/system/web_notification/web_notification_tray.cc",
    "common/system/web_notification/web_notification_tray.h",
    "common/wallpaper/wallpaper_controller.cc",
    "common/wallpaper/wallpaper_controller.h",
    "common/wallpaper/wallpaper_controller_observer.h",
    "common/wallpaper/wallpaper_delegate.h",
    "common/wallpaper/wallpaper_view.cc",
    "common/wallpaper/wallpaper_view.h",
    "common/wallpaper/wallpaper_widget_controller.cc",
    "common/wallpaper/wallpaper_widget_controller.h",
    "common/wm/always_on_top_controller.cc",
    "common/wm/always_on_top_controller.h",
    "common/wm/background_animator.cc",
    "common/wm/background_animator.h",
    "common/wm/container_finder.cc",
    "common/wm/container_finder.h",
    "common/wm/default_state.cc",
    "common/wm/default_state.h",
    "common/wm/default_window_resizer.cc",
    "common/wm/default_window_resizer.h",
    "common/wm/dock/docked_window_layout_manager.cc",
    "common/wm/dock/docked_window_layout_manager.h",
    "common/wm/dock/docked_window_layout_manager_observer.h",
    "common/wm/dock/docked_window_resizer.cc",
    "common/wm/dock/docked_window_resizer.h",
    "common/wm/drag_details.cc",
    "common/wm/drag_details.h",
    "common/wm/focus_rules.cc",
    "common/wm/focus_rules.h",
    "common/wm/fullscreen_window_finder.cc",
    "common/wm/fullscreen_window_finder.h",
    "common/wm/immersive_context_ash.cc",
    "common/wm/immersive_context_ash.h",
    "common/wm/lock_layout_manager.cc",
    "common/wm/lock_layout_manager.h",
    "common/wm/lock_state_observer.h",
    "common/wm/lock_window_state.cc",
    "common/wm/lock_window_state.h",
    "common/wm/maximize_mode/maximize_mode_controller.cc",
    "common/wm/maximize_mode/maximize_mode_controller.h",
    "common/wm/maximize_mode/maximize_mode_event_handler.cc",
    "common/wm/maximize_mode/maximize_mode_event_handler.h",
    "common/wm/maximize_mode/maximize_mode_window_manager.cc",
    "common/wm/maximize_mode/maximize_mode_window_manager.h",
    "common/wm/maximize_mode/maximize_mode_window_state.cc",
    "common/wm/maximize_mode/maximize_mode_window_state.h",
    "common/wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard.h",
    "common/wm/maximize_mode/workspace_backdrop_delegate.cc",
    "common/wm/maximize_mode/workspace_backdrop_delegate.h",
    "common/wm/mru_window_tracker.cc",
    "common/wm/mru_window_tracker.h",
    "common/wm/overview/cleanup_animation_observer.cc",
    "common/wm/overview/cleanup_animation_observer.h",
    "common/wm/overview/overview_animation_type.h",
    "common/wm/overview/scoped_overview_animation_settings.h",
    "common/wm/overview/scoped_overview_animation_settings_factory.cc",
    "common/wm/overview/scoped_overview_animation_settings_factory.h",
    "common/wm/overview/scoped_transform_overview_window.cc",
    "common/wm/overview/scoped_transform_overview_window.h",
    "common/wm/overview/window_grid.cc",
    "common/wm/overview/window_grid.h",
    "common/wm/overview/window_selector.cc",
    "common/wm/overview/window_selector.h",
    "common/wm/overview/window_selector_controller.cc",
    "common/wm/overview/window_selector_controller.h",
    "common/wm/overview/window_selector_item.cc",
    "common/wm/overview/window_selector_item.h",
    "common/wm/panels/panel_frame_view.cc",
    "common/wm/panels/panel_frame_view.h",
    "common/wm/panels/panel_layout_manager.cc",
    "common/wm/panels/panel_layout_manager.h",
    "common/wm/panels/panel_window_resizer.cc",
    "common/wm/panels/panel_window_resizer.h",
    "common/wm/root_window_finder.cc",
    "common/wm/root_window_finder.h",
    "common/wm/root_window_layout_manager.cc",
    "common/wm/root_window_layout_manager.h",
    "common/wm/screen_dimmer.cc",
    "common/wm/screen_dimmer.h",
    "common/wm/switchable_windows.cc",
    "common/wm/switchable_windows.h",
    "common/wm/system_modal_container_layout_manager.cc",
    "common/wm/system_modal_container_layout_manager.h",
    "common/wm/window_animation_types.h",
    "common/wm/window_cycle_controller.cc",
    "common/wm/window_cycle_controller.h",
    "common/wm/window_cycle_event_filter.h",
    "common/wm/window_cycle_list.cc",
    "common/wm/window_cycle_list.h",
    "common/wm/window_dimmer.cc",
    "common/wm/window_dimmer.h",
    "common/wm/window_parenting_utils.cc",
    "common/wm/window_parenting_utils.h",
    "common/wm/window_positioner.cc",
    "common/wm/window_positioner.h",
    "common/wm/window_positioning_utils.cc",
    "common/wm/window_positioning_utils.h",
    "common/wm/window_resizer.cc",
    "common/wm/window_resizer.h",
    "common/wm/window_state.cc",
    "common/wm/window_state.h",
    "common/wm/window_state_delegate.cc",
    "common/wm/window_state_delegate.h",
    "common/wm/window_state_observer.h",
    "common/wm/window_state_util.cc",
    "common/wm/window_state_util.h",
    "common/wm/wm_event.cc",
    "common/wm/wm_event.h",
    "common/wm/wm_screen_util.cc",
    "common/wm/wm_screen_util.h",
    "common/wm/wm_snap_to_pixel_layout_manager.cc",
    "common/wm/wm_snap_to_pixel_layout_manager.h",
    "common/wm/wm_toplevel_window_event_handler.cc",
    "common/wm/wm_toplevel_window_event_handler.h",
    "common/wm/wm_types.cc",
    "common/wm/wm_types.h",
    "common/wm/wm_window_animations.cc",
    "common/wm/wm_window_animations.h",
    "common/wm/workspace/magnetism_matcher.cc",
    "common/wm/workspace/magnetism_matcher.h",
    "common/wm/workspace/multi_window_resize_controller.cc",
    "common/wm/workspace/multi_window_resize_controller.h",
    "common/wm/workspace/phantom_window_controller.cc",
    "common/wm/workspace/phantom_window_controller.h",
    "common/wm/workspace/two_step_edge_cycler.cc",
    "common/wm/workspace/two_step_edge_cycler.h",
    "common/wm/workspace/workspace_event_handler.cc",
    "common/wm/workspace/workspace_event_handler.h",
    "common/wm/workspace/workspace_layout_manager.cc",
    "common/wm/workspace/workspace_layout_manager.h",
    "common/wm/workspace/workspace_layout_manager_backdrop_delegate.h",
    "common/wm/workspace/workspace_types.h",
    "common/wm/workspace/workspace_window_resizer.cc",
    "common/wm/workspace/workspace_window_resizer.h",
    "common/wm/workspace_controller.cc",
    "common/wm/workspace_controller.h",
    "common/wm_activation_observer.h",
    "common/wm_display_observer.h",
    "common/wm_layout_manager.h",
    "common/wm_lookup.cc",
    "common/wm_lookup.h",
    "common/wm_root_window_controller.cc",
    "common/wm_root_window_controller.h",
    "common/wm_shell.cc",
    "common/wm_shell.h",
    "common/wm_transient_window_observer.h",
    "common/wm_window.h",
    "common/wm_window_observer.h",
    "common/wm_window_property.h",
    "common/wm_window_tracker.h",
    "common/wm_window_user_data.h",
    "debug.cc",
    "debug.h",
    "default_wallpaper_delegate.cc",
    "default_wallpaper_delegate.h",
    "display/cursor_window_controller.cc",
    "display/cursor_window_controller.h",
    "display/display_animator.h",
    "display/display_animator_chromeos.cc",
    "display/display_animator_chromeos.h",
    "display/display_change_observer_chromeos.cc",
    "display/display_change_observer_chromeos.h",
    "display/display_color_manager_chromeos.cc",
    "display/display_color_manager_chromeos.h",
    "display/display_configuration_controller.cc",
    "display/display_configuration_controller.h",
    "display/display_error_observer_chromeos.cc",
    "display/display_error_observer_chromeos.h",
    "display/display_pref_util.h",
    "display/display_util.cc",
    "display/display_util.h",
    "display/event_transformation_handler.cc",
    "display/event_transformation_handler.h",
    "display/extended_mouse_warp_controller.cc",
    "display/extended_mouse_warp_controller.h",
    "display/json_converter.cc",
    "display/json_converter.h",
    "display/mirror_window_controller.cc",
    "display/mirror_window_controller.h",
    "display/mouse_cursor_event_filter.cc",
    "display/mouse_cursor_event_filter.h",
    "display/mouse_warp_controller.h",
    "display/null_mouse_warp_controller.cc",
    "display/null_mouse_warp_controller.h",
    "display/projecting_observer_chromeos.cc",
    "display/projecting_observer_chromeos.h",
    "display/resolution_notification_controller.cc",
    "display/resolution_notification_controller.h",
    "display/root_window_transformers.cc",
    "display/root_window_transformers.h",
    "display/screen_ash.cc",
    "display/screen_ash.h",
    "display/screen_orientation_controller_chromeos.cc",
    "display/screen_orientation_controller_chromeos.h",
    "display/screen_position_controller.cc",
    "display/screen_position_controller.h",
    "display/shared_display_edge_indicator.cc",
    "display/shared_display_edge_indicator.h",
    "display/unified_mouse_warp_controller.cc",
    "display/unified_mouse_warp_controller.h",
    "display/window_tree_host_manager.cc",
    "display/window_tree_host_manager.h",
    "drag_drop/drag_drop_controller.cc",
    "drag_drop/drag_drop_controller.h",
    "drag_drop/drag_drop_tracker.cc",
    "drag_drop/drag_drop_tracker.h",
    "first_run/desktop_cleaner.cc",
    "first_run/desktop_cleaner.h",
    "first_run/first_run_helper.cc",
    "first_run/first_run_helper.h",
    "first_run/first_run_helper_impl.cc",
    "first_run/first_run_helper_impl.h",
    "high_contrast/high_contrast_controller.cc",
    "high_contrast/high_contrast_controller.h",
    "host/ash_window_tree_host.cc",
    "host/ash_window_tree_host.h",
    "host/ash_window_tree_host_init_params.h",
    "host/ash_window_tree_host_platform.cc",
    "host/ash_window_tree_host_platform.h",
    "host/ash_window_tree_host_unified.cc",
    "host/ash_window_tree_host_unified.h",
    "host/ash_window_tree_host_win.cc",
    "host/ash_window_tree_host_win.h",
    "host/ash_window_tree_host_x11.cc",
    "host/ash_window_tree_host_x11.h",
    "host/root_window_transformer.h",
    "host/transformer_helper.cc",
    "host/transformer_helper.h",
    "ime/input_method_event_handler.cc",
    "ime/input_method_event_handler.h",
    "link_handler_model.cc",
    "link_handler_model.h",
    "link_handler_model_factory.cc",
    "link_handler_model_factory.h",
    "magnifier/magnification_controller.cc",
    "magnifier/magnification_controller.h",
    "metrics/desktop_task_switch_metric_recorder.cc",
    "metrics/desktop_task_switch_metric_recorder.h",
    "metrics/task_switch_metrics_recorder.cc",
    "metrics/task_switch_metrics_recorder.h",
    "metrics/task_switch_time_tracker.cc",
    "metrics/task_switch_time_tracker.h",
    "metrics/user_metrics_recorder.cc",
    "metrics/user_metrics_recorder.h",
    "root_window_controller.cc",
    "root_window_controller.h",
    "root_window_settings.cc",
    "root_window_settings.h",
    "rotator/screen_rotation_animation.cc",
    "rotator/screen_rotation_animation.h",
    "rotator/screen_rotation_animator.cc",
    "rotator/screen_rotation_animator.h",
    "rotator/window_rotation.cc",
    "rotator/window_rotation.h",
    "screen_util.cc",
    "screen_util.h",
    "screenshot_delegate.h",
    "shared/immersive_context.cc",
    "shared/immersive_context.h",
    "shared/immersive_focus_watcher.h",
    "shared/immersive_fullscreen_controller.cc",
    "shared/immersive_fullscreen_controller.h",
    "shared/immersive_fullscreen_controller_delegate.h",
    "shared/immersive_gesture_handler.h",
    "shared/immersive_handler_factory.cc",
    "shared/immersive_handler_factory.h",
    "shared/immersive_revealed_lock.cc",
    "shared/immersive_revealed_lock.h",
    "shelf/dimmer_view.cc",
    "shelf/dimmer_view.h",
    "shelf/shelf_bezel_event_handler.cc",
    "shelf/shelf_bezel_event_handler.h",
    "shelf/shelf_window_targeter.cc",
    "shelf/shelf_window_targeter.h",
    "shell.cc",
    "shell.h",
    "shell_init_params.h",
    "sticky_keys/sticky_keys_controller.cc",
    "sticky_keys/sticky_keys_controller.h",
    "sticky_keys/sticky_keys_overlay.cc",
    "sticky_keys/sticky_keys_overlay.h",
    "sticky_keys/sticky_keys_state.h",
    "system/chromeos/power/power_event_observer.cc",
    "system/chromeos/power/power_event_observer.h",
    "system/chromeos/power/tablet_power_button_controller.cc",
    "system/chromeos/power/tablet_power_button_controller.h",
    "system/chromeos/power/video_activity_notifier.cc",
    "system/chromeos/power/video_activity_notifier.h",
    "system/chromeos/rotation/tray_rotation_lock.cc",
    "system/chromeos/rotation/tray_rotation_lock.h",
    "system/chromeos/screen_layout_observer.cc",
    "system/chromeos/screen_layout_observer.h",
    "touch/touch_hud_debug.cc",
    "touch/touch_hud_debug.h",
    "touch/touch_hud_projection.cc",
    "touch/touch_hud_projection.h",
    "touch/touch_observer_hud.cc",
    "touch/touch_observer_hud.h",
    "touch/touch_transformer_controller.cc",
    "touch/touch_transformer_controller.h",
    "touch/touch_uma.cc",
    "touch/touch_uma.h",
    "touch/touchscreen_util.cc",
    "touch/touchscreen_util.h",
    "utility/screenshot_controller.cc",
    "utility/screenshot_controller.h",
    "virtual_keyboard_controller.cc",
    "virtual_keyboard_controller.h",
    "wm/ash_focus_rules.cc",
    "wm/ash_focus_rules.h",
    "wm/ash_native_cursor_manager.cc",
    "wm/ash_native_cursor_manager.h",
    "wm/boot_splash_screen_chromeos.cc",
    "wm/boot_splash_screen_chromeos.h",
    "wm/cursor_manager_chromeos.cc",
    "wm/cursor_manager_chromeos.h",
    "wm/drag_window_controller.cc",
    "wm/drag_window_controller.h",
    "wm/drag_window_resizer.cc",
    "wm/drag_window_resizer.h",
    "wm/event_client_impl.cc",
    "wm/event_client_impl.h",
    "wm/gestures/overview_gesture_handler.cc",
    "wm/gestures/overview_gesture_handler.h",
    "wm/immersive_focus_watcher_aura.cc",
    "wm/immersive_focus_watcher_aura.h",
    "wm/immersive_gesture_handler_aura.cc",
    "wm/immersive_gesture_handler_aura.h",
    "wm/immersive_handler_factory_ash.cc",
    "wm/immersive_handler_factory_ash.h",
    "wm/lock_state_controller.cc",
    "wm/lock_state_controller.h",
    "wm/maximize_mode/maximize_mode_event_handler_aura.cc",
    "wm/maximize_mode/maximize_mode_event_handler_aura.h",
    "wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard_ozone.cc",
    "wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard_ozone.h",
    "wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard_x11.cc",
    "wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard_x11.h",
    "wm/overlay_event_filter.cc",
    "wm/overlay_event_filter.h",
    "wm/overview/scoped_overview_animation_settings_aura.cc",
    "wm/overview/scoped_overview_animation_settings_aura.h",
    "wm/overview/scoped_overview_animation_settings_factory_aura.cc",
    "wm/overview/scoped_overview_animation_settings_factory_aura.h",
    "wm/panels/attached_panel_window_targeter.cc",
    "wm/panels/attached_panel_window_targeter.h",
    "wm/panels/panel_window_event_handler.cc",
    "wm/panels/panel_window_event_handler.h",
    "wm/power_button_controller.cc",
    "wm/power_button_controller.h",
    "wm/resize_handle_window_targeter.cc",
    "wm/resize_handle_window_targeter.h",
    "wm/resize_shadow.cc",
    "wm/resize_shadow.h",
    "wm/resize_shadow_controller.cc",
    "wm/resize_shadow_controller.h",
    "wm/screen_pinning_controller.cc",
    "wm/screen_pinning_controller.h",
    "wm/session_state_animator.cc",
    "wm/session_state_animator.h",
    "wm/session_state_animator_impl.cc",
    "wm/session_state_animator_impl.h",
    "wm/stacking_controller.cc",
    "wm/stacking_controller.h",
    "wm/system_gesture_event_filter.cc",
    "wm/system_gesture_event_filter.h",
    "wm/system_modal_container_event_filter.cc",
    "wm/system_modal_container_event_filter.h",
    "wm/system_modal_container_event_filter_delegate.h",
    "wm/system_wallpaper_controller.cc",
    "wm/system_wallpaper_controller.h",
    "wm/toplevel_window_event_handler.cc",
    "wm/toplevel_window_event_handler.h",
    "wm/video_detector.cc",
    "wm/video_detector.h",
    "wm/window_animations.cc",
    "wm/window_animations.h",
    "wm/window_cycle_event_filter_aura.cc",
    "wm/window_cycle_event_filter_aura.h",
    "wm/window_mirror_view.cc",
    "wm/window_mirror_view.h",
    "wm/window_properties.cc",
    "wm/window_properties.h",
    "wm/window_state_aura.cc",
    "wm/window_state_aura.h",
    "wm/window_util.cc",
    "wm/window_util.h",
    "wm/workspace/workspace_event_handler_aura.cc",
    "wm/workspace/workspace_event_handler_aura.h",
  ]

  configs += [ "//build/config:precompiled_headers" ]
  defines = [ "ASH_IMPLEMENTATION" ]

  public_deps = [
    "//ash/common/strings",
    "//ash/resources",
    "//ash/resources/vector_icons",
    "//ash/shared:app_types",
  ]
  deps = [
    "//ash/autoclick/common:autoclick",
    "//ash/public/cpp",
    "//ash/public/interfaces",
    "//ash/touch_hud",
    "//base",
    "//base:i18n",
    "//base/third_party/dynamic_annotations",
    "//cc",
    "//components/device_event_log",
    "//components/onc",
    "//components/session_manager:base",
    "//components/signin/core/account_id",
    "//components/ui_devtools",
    "//components/user_manager",
    "//components/wallpaper",
    "//media",
    "//net",
    "//services/service_manager/public/cpp",
    "//skia",
    "//third_party/icu",
    "//ui/accessibility",
    "//ui/app_list/presenter",
    "//ui/aura",
    "//ui/base",
    "//ui/base:ui_data_pack",
    "//ui/base/ime",
    "//ui/compositor",
    "//ui/display",
    "//ui/display/types",
    "//ui/events",
    "//ui/events:events_base",
    "//ui/events:gesture_detection",
    "//ui/events/devices",
    "//ui/gfx",
    "//ui/gfx/geometry",
    "//ui/keyboard",
    "//ui/message_center",
    "//ui/native_theme",
    "//ui/platform_window",
    "//ui/platform_window/stub",
    "//ui/resources",
    "//ui/strings",
    "//ui/views",
    "//ui/wm",
    "//url",
  ]

  if (is_win) {
    sources -= [
      "sticky_keys/sticky_keys_controller.cc",
      "sticky_keys/sticky_keys_controller.h",
    ]

    # TODO(jschuh): crbug.com/167187 fix size_t to int truncations.
    configs += [ "//build/config/compiler:no_size_t_to_int_warning" ]
  }

  if (use_x11) {
    configs += [
      "//build/config/linux:x11",
      "//build/config/linux:xfixes",
    ]
    deps += [
      "//ui/events/devices/x11",
      "//ui/events/platform",
      "//ui/gfx/x",
    ]
  } else {
    sources -= [
      "host/ash_window_tree_host_x11.cc",
      "host/ash_window_tree_host_x11.h",
      "wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard_x11.cc",
      "wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard_x11.h",
    ]
  }

  if (use_ozone) {
    deps += [
      "//ui/events:dom_keycode_converter",
      "//ui/events/ozone:events_ozone",
      "//ui/ozone",
    ]
  } else {
    sources -= [
      "wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard_ozone.cc",
      "wm/maximize_mode/scoped_disable_internal_mouse_and_keyboard_ozone.h",
    ]
  }

  if (is_chromeos) {
    deps += [
      "//chromeos",
      "//chromeos:power_manager_proto",
      "//components/quirks",
      "//device/bluetooth",

      # TODO(msw): Remove this; only ash_with_content should depend on webkit.
      "//third_party/WebKit/public:blink_headers",
      "//third_party/qcms",
      "//ui/chromeos",
      "//ui/chromeos/resources",
      "//ui/chromeos/strings",
      "//ui/display/util",
    ]

    data = [
      "display/test_data/",
    ]

    sources += [
      "laser/laser_pointer_controller.cc",
      "laser/laser_pointer_controller.h",
      "laser/laser_pointer_points.cc",
      "laser/laser_pointer_points.h",
      "laser/laser_pointer_view.cc",
      "laser/laser_pointer_view.h",
      "magnifier/partial_magnification_controller.cc",
      "magnifier/partial_magnification_controller.h",
    ]
  } else {
    sources -= [
      "accelerators/key_hold_detector.cc",
      "accelerators/key_hold_detector.h",
      "accelerators/magnifier_key_scroller.cc",
      "accelerators/magnifier_key_scroller.h",
      "accelerators/spoken_feedback_toggler.cc",
      "accelerators/spoken_feedback_toggler.h",
      "display/resolution_notification_controller.cc",
      "display/resolution_notification_controller.h",
      "touch/touch_transformer_controller.cc",
      "touch/touch_transformer_controller.h",
      "touch/touchscreen_util.cc",
      "touch/touchscreen_util.h",
      "virtual_keyboard_controller.cc",
      "virtual_keyboard_controller.h",
    ]
  }

  # Usage of content should be in ash_content_unittests.
  assert_no_deps = [ "//content/*" ]
}

component("ash_with_content") {
  sources = [
    "content/ash_with_content_export.h",
    "content/gpu_support_impl.cc",
    "content/gpu_support_impl.h",
    "content/keyboard_overlay/keyboard_overlay_delegate.cc",
    "content/keyboard_overlay/keyboard_overlay_delegate.h",
    "content/keyboard_overlay/keyboard_overlay_view.cc",
    "content/keyboard_overlay/keyboard_overlay_view.h",
    "content/screen_orientation_delegate_chromeos.cc",
    "content/screen_orientation_delegate_chromeos.h",
    "content/shell_content_state.cc",
    "content/shell_content_state.h",
  ]

  defines = [ "ASH_WITH_CONTENT_IMPLEMENTATION" ]

  public_deps = [
    ":ash",
  ]
  deps = [
    "//base",
    "//base/third_party/dynamic_annotations",
    "//content/public/browser",
    "//gpu/config",
    "//ipc",
    "//skia",
    "//ui/aura",
    "//ui/base",
    "//ui/compositor",
    "//ui/events",
    "//ui/gfx",
    "//ui/gfx/geometry",
    "//ui/keyboard:keyboard_with_content",
    "//ui/resources",
    "//ui/strings",
    "//ui/views",
    "//ui/views/controls/webview",
    "//ui/web_dialogs",
    "//url",
  ]
}

static_library("ash_shell_lib") {
  testonly = true
  sources = [
    "../ui/views/test/test_views_delegate_aura.cc",
    "shell/app_list.cc",
    "shell/bubble.cc",
    "shell/context_menu.cc",
    "shell/context_menu.h",
    "shell/example_factory.h",
    "shell/lock_view.cc",
    "shell/panel_window.cc",
    "shell/panel_window.h",
    "shell/shell_delegate_impl.cc",
    "shell/shell_delegate_impl.h",
    "shell/toplevel_window.cc",
    "shell/toplevel_window.h",
    "shell/widgets.cc",
    "shell/window_watcher.cc",
    "shell/window_watcher.h",
    "shell/window_watcher_shelf_item_delegate.cc",
    "shell/window_watcher_shelf_item_delegate.h",
  ]

  # Usage of content should be in ash_shell_lib_with_content.
  assert_no_deps = [ "//content/*" ]

  deps = [
    ":ash",
    "//ash/common/test:test_support",
    "//ash/public/cpp",
    "//ash/test:test_support_without_content",
    "//base",
    "//base:i18n",
    "//components/user_manager",
    "//skia",
    "//ui/app_list/presenter",
    "//ui/aura",
    "//ui/base",
    "//ui/gfx",
    "//ui/gfx/geometry",
    "//ui/views",
    "//ui/views:test_support",
    "//ui/views/examples:views_examples_lib",
  ]
}

static_library("ash_shell_lib_with_content") {
  testonly = true
  sources = [
    "shell/content/client/shell_browser_main_parts.cc",
    "shell/content/client/shell_browser_main_parts.h",
    "shell/content/client/shell_content_browser_client.cc",
    "shell/content/client/shell_content_browser_client.h",
    "shell/content/client/shell_main_delegate.cc",
    "shell/content/client/shell_main_delegate.h",
    "shell/content/shell_content_state_impl.cc",
    "shell/content/shell_content_state_impl.h",
    "shell/window_type_launcher.cc",
    "shell/window_type_launcher.h",
  ]

  deps = [
    ":ash_shell_lib",
    ":ash_with_content",
    "//ash/public/cpp",
    "//ash/test:test_support_without_content",
    "//base:i18n",
    "//chrome:packed_resources",
    "//content",
    "//content/shell:content_shell_lib",
    "//device/bluetooth",
    "//net",
    "//skia",
    "//ui/aura",
    "//ui/base",
    "//ui/base/ime",
    "//ui/compositor",
    "//ui/display",
    "//ui/events/devices",
    "//ui/message_center",
    "//ui/views:test_support",
    "//ui/views/examples:views_examples_with_content_lib",
    "//ui/wm",
  ]

  if (is_chromeos) {
    deps += [ "//chromeos" ]
  }
}

# This target is intended for tests that use content. In general very few tests
# need or use content and should be placed in |ash_unittests| instead.
test("ash_content_unittests") {
  sources = [
    "content/display/screen_orientation_controller_chromeos_unittest.cc",
    "content/keyboard_overlay/keyboard_overlay_delegate_unittest.cc",
    "content/keyboard_overlay/keyboard_overlay_view_unittest.cc",
    "test/ash_unittests.cc",
  ]
  configs += [
    "//build/config:precompiled_headers",
    "//build/config/compiler:no_size_t_to_int_warning",
  ]

  deps = [
    ":ash",
    ":ash_with_content",
    "//ash/common/test:test_support",
    "//ash/public/cpp",
    "//ash/test:ash_with_aura_test_support",
    "//ash/test:test_support_with_content",
    "//base",
    "//base/test:test_support",
    "//components/signin/core/account_id",
    "//components/user_manager",
    "//content/public/browser",
    "//content/test:test_support",
    "//mojo/edk/system",
    "//skia",
    "//testing/gtest",
    "//ui/aura",
    "//ui/aura:test_support",
    "//ui/message_center",
    "//ui/message_center:test_support",
    "//ui/views",
    "//ui/views:test_support",
    "//ui/views/controls/webview:test_support",
    "//ui/web_dialogs:test_support",
  ]

  data_deps = [
    "//ash/common/strings:ash_test_strings",
    "//ash/resources:ash_test_resources_with_content_100_percent",
    "//ash/resources:ash_test_resources_200_percent",
  ]

  if (is_chromeos) {
    deps += [
      "//chromeos",
      "//chromeos:power_manager_proto",
      "//chromeos:test_support_without_gmock",
      "//components/quirks",
      "//device/bluetooth",
      "//net:net",
      "//ui/chromeos",
      "//ui/display",
      "//ui/display:test_support",
    ]
  }
}

test("ash_unittests") {
  sources = [
    "accelerators/accelerator_commands_unittest.cc",
    "accelerators/accelerator_controller_unittest.cc",
    "accelerators/accelerator_filter_unittest.cc",
    "accelerators/magnifier_key_scroller_unittest.cc",
    "accelerators/spoken_feedback_toggler_unittest.cc",
    "app_list/app_list_presenter_delegate_unittest.cc",
    "ash_touch_exploration_manager_chromeos_unittest.cc",
    "aura/pointer_watcher_adapter_unittest.cc",
    "autoclick/autoclick_unittest.cc",
    "common/devtools/ash_devtools_unittest.cc",

    # TODO: convert to use AshTest http://crbug.com/654489.
    "common/frame/caption_buttons/frame_caption_button_container_view_unittest.cc",
    "common/frame/custom_frame_view_ash_unittest.cc",
    "common/frame/default_header_painter_unittest.cc",

    # TODO: convert to use AshTest http://crbug.com/654491.
    "common/material_design/material_design_controller_unittest.cc",

    # TODO: convert to use AshTest http://crbug.com/654492.
    "common/metrics/pointer_metrics_recorder_unittest.cc",

    # TODO: convert to use AshTest http://crbug.com/654493.
    "common/popup_message_unittest.cc",

    # TODO: convert to use AshTest http://crbug.com/654494.
    "common/shelf/shelf_background_animator_unittest.cc",
    "common/shelf/shelf_button_pressed_metric_tracker_unittest.cc",
    "common/shelf/shelf_locking_manager_unittest.cc",
    "common/shelf/shelf_model_unittest.cc",
    "common/shelf/shelf_tooltip_manager_unittest.cc",
    "common/shelf/shelf_window_watcher_unittest.cc",

    # TODO: convert to use AshTest http://crbug.com/654495.
    "common/system/chromeos/ime_menu/ime_menu_tray_unittest.cc",
    "common/system/chromeos/media_security/multi_profile_media_tray_item_unittest.cc",
    "common/system/chromeos/palette/mock_palette_tool_delegate.cc",
    "common/system/chromeos/palette/mock_palette_tool_delegate.h",
    "common/system/chromeos/palette/palette_tool_manager_unittest.cc",
    "common/system/chromeos/palette/tools/create_note_unittest.cc",
    "common/system/chromeos/palette/tools/screenshot_unittest.cc",
    "common/system/chromeos/power/power_status_unittest.cc",
    "common/system/chromeos/power/power_status_view_unittest.cc",
    "common/system/chromeos/power/tray_power_unittest.cc",
    "common/system/chromeos/session/logout_confirmation_controller_unittest.cc",
    "common/system/chromeos/session/tray_session_length_limit_unittest.cc",
    "common/system/date/system_info_default_view_unittest.cc",
    "common/system/ime/tray_ime_chromeos_unittest.cc",
    "common/system/tiles/tray_tiles_unittest.cc",
    "common/system/tray/size_range_layout_unittest.cc",
    "common/system/tray/system_tray_unittest.cc",
    "common/system/tray/tray_details_view_unittest.cc",
    "common/system/tray/tri_view_unittest.cc",
    "common/system/user/tray_user_unittest.cc",

    # TODO: convert to use AshTest http://crbug.com/654517.
    "common/wallpaper/wallpaper_controller_unittest.cc",

    # TODO: convert to use AshTest http://crbug.com/654524.
    "common/wm/overview/cleanup_animation_observer_unittest.cc",
    "dip_unittest.cc",
    "display/cursor_window_controller_unittest.cc",
    "display/display_change_observer_chromeos_unittest.cc",
    "display/display_color_manager_chromeos_unittest.cc",
    "display/display_error_observer_chromeos_unittest.cc",
    "display/display_manager_unittest.cc",
    "display/display_util_unittest.cc",
    "display/extended_mouse_warp_controller_unittest.cc",
    "display/json_converter_unittest.cc",
    "display/mirror_window_controller_unittest.cc",
    "display/mouse_cursor_event_filter_unittest.cc",
    "display/projecting_observer_chromeos_unittest.cc",
    "display/resolution_notification_controller_unittest.cc",
    "display/root_window_transformers_unittest.cc",
    "display/screen_ash_unittest.cc",
    "display/screen_position_controller_unittest.cc",
    "display/unified_mouse_warp_controller_unittest.cc",
    "display/window_tree_host_manager_unittest.cc",
    "drag_drop/drag_drop_controller_unittest.cc",
    "drag_drop/drag_drop_tracker_unittest.cc",
    "extended_desktop_unittest.cc",
    "focus_cycler_unittest.cc",
    "frame/caption_buttons/frame_size_button_unittest.cc",
    "host/ash_window_tree_host_x11_unittest.cc",
    "magnifier/magnification_controller_unittest.cc",
    "metrics/desktop_task_switch_metric_recorder_unittest.cc",
    "metrics/task_switch_metrics_recorder_unittest.cc",
    "metrics/task_switch_time_tracker_unittest.cc",
    "metrics/user_metrics_recorder_unittest.cc",
    "root_window_controller_unittest.cc",
    "rotator/screen_rotation_animation_unittest.cc",
    "screen_util_unittest.cc",
    "shelf/shelf_layout_manager_unittest.cc",
    "shelf/shelf_unittest.cc",
    "shelf/shelf_view_unittest.cc",
    "shelf/shelf_widget_unittest.cc",
    "shell_unittest.cc",
    "sticky_keys/sticky_keys_overlay_unittest.cc",
    "sticky_keys/sticky_keys_unittest.cc",
    "system/chromeos/power/power_event_observer_unittest.cc",
    "system/chromeos/power/tablet_power_button_controller_unittest.cc",
    "system/chromeos/power/video_activity_notifier_unittest.cc",
    "system/chromeos/rotation/tray_rotation_lock_unittest.cc",
    "system/chromeos/screen_layout_observer_unittest.cc",
    "system/overview/overview_button_tray_unittest.cc",
    "system/toast/toast_manager_unittest.cc",
    "system/web_notification/ash_popup_alignment_delegate_unittest.cc",
    "system/web_notification/web_notification_tray_unittest.cc",
    "test/ash_test_environment_default.cc",
    "test/ash_test_helper_unittest.cc",
    "test/ash_unittests.cc",
    "tooltips/tooltip_controller_unittest.cc",
    "touch/touch_observer_hud_unittest.cc",
    "touch/touch_transformer_controller_unittest.cc",
    "touch/touchscreen_util_unittest.cc",
    "utility/screenshot_controller_unittest.cc",
    "virtual_keyboard_controller_unittest.cc",
    "wm/always_on_top_controller_unittest.cc",
    "wm/ash_focus_rules_unittest.cc",
    "wm/ash_native_cursor_manager_unittest.cc",
    "wm/dock/docked_window_layout_manager_unittest.cc",
    "wm/dock/docked_window_resizer_unittest.cc",
    "wm/drag_window_resizer_unittest.cc",
    "wm/gestures/overview_gesture_handler_unittest.cc",
    "wm/immersive_fullscreen_controller_unittest.cc",
    "wm/lock_layout_manager_unittest.cc",
    "wm/lock_state_controller_unittest.cc",
    "wm/maximize_mode/accelerometer_test_data_literals.cc",
    "wm/maximize_mode/maximize_mode_controller_unittest.cc",
    "wm/maximize_mode/maximize_mode_window_manager_unittest.cc",
    "wm/overlay_event_filter_unittest.cc",
    "wm/overview/window_selector_unittest.cc",
    "wm/panels/panel_layout_manager_unittest.cc",
    "wm/panels/panel_window_resizer_unittest.cc",
    "wm/resize_shadow_and_cursor_unittest.cc",
    "wm/root_window_layout_manager_unittest.cc",
    "wm/screen_dimmer_unittest.cc",
    "wm/screen_pinning_controller_unittest.cc",
    "wm/session_state_animator_impl_unittest.cc",
    "wm/stacking_controller_unittest.cc",
    "wm/system_gesture_event_filter_unittest.cc",
    "wm/system_modal_container_layout_manager_unittest.cc",
    "wm/toplevel_window_event_handler_unittest.cc",
    "wm/video_detector_unittest.cc",
    "wm/window_animations_unittest.cc",
    "wm/window_cycle_controller_unittest.cc",
    "wm/window_manager_unittest.cc",
    "wm/window_modality_controller_unittest.cc",
    "wm/window_positioner_unittest.cc",
    "wm/window_state_unittest.cc",
    "wm/window_util_unittest.cc",
    "wm/workspace/magnetism_matcher_unittest.cc",
    "wm/workspace/multi_window_resize_controller_unittest.cc",
    "wm/workspace/workspace_event_handler_unittest.cc",
    "wm/workspace/workspace_layout_manager_keyboard_unittest.cc",
    "wm/workspace/workspace_window_resizer_unittest.cc",
    "wm/workspace_controller_test_helper.cc",
    "wm/workspace_controller_test_helper.h",
    "wm/workspace_controller_unittest.cc",
  ]
  configs += [
    "//build/config:precompiled_headers",
    "//build/config/compiler:no_size_t_to_int_warning",
  ]

  deps = [
    ":ash",
    "//ash/autoclick/common:autoclick",
    "//ash/common:unittests",
    "//ash/common/strings",
    "//ash/common/test:test_support",
    "//ash/public/cpp",
    "//ash/resources",
    "//ash/test:ash_with_aura_test_support",
    "//ash/test:test_support_without_content",
    "//ash/touch_hud",
    "//base",
    "//base/test:test_support",
    "//components/signin/core/account_id",
    "//components/user_manager",
    "//mojo/edk/system",
    "//skia",
    "//testing/gmock",
    "//testing/gtest",
    "//third_party/icu",
    "//ui/accessibility",
    "//ui/app_list/presenter",
    "//ui/aura",
    "//ui/aura:test_support",
    "//ui/base",
    "//ui/base:test_support",
    "//ui/base/ime",
    "//ui/compositor",
    "//ui/compositor:test_support",
    "//ui/display/types",
    "//ui/events",
    "//ui/events:gesture_detection",
    "//ui/events:test_support",
    "//ui/events/devices",
    "//ui/gfx",
    "//ui/gfx/geometry",
    "//ui/keyboard",
    "//ui/message_center",
    "//ui/message_center:test_support",
    "//ui/resources",
    "//ui/strings",
    "//ui/views",
    "//ui/views:test_support",
    "//ui/wm",
    "//ui/wm:test_support",
    "//url",
  ]

  data_deps = [
    "//ash/common/strings:ash_test_strings",
    "//ash/resources:ash_test_resources_100_percent",
    "//ash/resources:ash_test_resources_200_percent",
  ]

  if (!use_x11) {
    sources -= [ "host/ash_window_tree_host_x11_unittest.cc" ]
  }

  if (is_chromeos) {
    sources += [
      "first_run/first_run_helper_unittest.cc",
      "laser/laser_pointer_controller_unittest.cc",
      "magnifier/partial_magnification_controller_unittest.cc",
    ]
    deps += [
      "//chromeos",
      "//chromeos:power_manager_proto",
      "//chromeos:test_support_without_gmock",
      "//components/quirks",
      "//device/bluetooth",
      "//net:net",
      "//ui/chromeos",
      "//ui/display",
      "//ui/display:test_support",
    ]
  } else {
    sources -= [
      "accelerators/magnifier_key_scroller_unittest.cc",
      "accelerators/spoken_feedback_toggler_unittest.cc",

      # Can't resize on Windows Ash. http://crbug.com/165962
      "autoclick/autoclick_unittest.cc",
      "display/resolution_notification_controller_unittest.cc",

      # TODO(zork): fix this test to build on Windows. See: crosbug.com/26906
      "focus_cycler_unittest.cc",
      "magnifier/magnification_controller_unittest.cc",
      "sticky_keys/sticky_keys_overlay_unittest.cc",
      "sticky_keys/sticky_keys_unittest.cc",
      "touch/touchscreen_util_unittest.cc",
      "virtual_keyboard_controller_unittest.cc",

      # All tests for multiple displays: not supported on Windows Ash.
      "wm/drag_window_resizer_unittest.cc",

      # Talks to ChromeOS system services.
      "wm/lock_state_controller_unittest.cc",

      # Maximize mode is only available on Chrome OS.
      "wm/maximize_mode/maximize_mode_controller_unittest.cc",
      "wm/maximize_mode/maximize_mode_window_manager_unittest.cc",
      "wm/workspace/workspace_window_resizer_unittest.cc",
    ]
  }

  if (!use_x11 || !is_chromeos) {
    sources -= [ "touch/touch_transformer_controller_unittest.cc" ]
  }

  # Usage of content should be in ash_with_content.
  assert_no_deps = [ "//content/*" ]
}

executable("ash_shell_with_content") {
  testonly = true
  sources = [
    "shell/content/shell_with_content_main.cc",
  ]

  deps = [
    ":ash_shell_lib_with_content",
    "//base",
    "//build/config/sanitizers:deps",
    "//build/win:default_exe_manifest",
    "//components/user_manager",
    "//content",
    "//content/public/app:both",
  ]

  data_deps = [
    "//ash/common/strings:ash_test_strings",
    "//ash/resources:ash_test_resources_with_content_100_percent",
    "//ash/resources:ash_test_resources_200_percent",
  ]

  if (is_win) {
    configs -= [ "//build/config/win:console" ]
    configs += [ "//build/config/win:windowed" ]
    deps += [ "//sandbox" ]
  }

  if (is_chromeos) {
    deps += [ "//device/bluetooth" ]
  }
}
